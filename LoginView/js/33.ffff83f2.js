"use strict";(self["webpackChunkprueba"]=self["webpackChunkprueba"]||[]).push([[33],{4271:function(r,a,e){e.d(a,{Z:function(){return d}});var s=e(3396),l=e(7139);const t={key:0,class:"alert alert-danger d-flex align-items-center",role:"alert"},i=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-circle-fill",viewBox:"0 0 16 16"},[(0,s._)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"})],-1);function o(r,a,e,o,n,u){return e.visible?((0,s.wg)(),(0,s.iD)("div",t,[(0,s._)("div",null,[i,(0,s.Uk)(" "+(0,l.zw)(e.mensaje),1)])])):(0,s.kq)("",!0)}var n={props:{visible:Boolean,mensaje:String}},u=e(89);const c=(0,u.Z)(n,[["render",o]]);var d=c},7033:function(r,a,e){e.r(a),e.d(a,{default:function(){return y}});var s=e(3396),l=e(9242);const t={class:"container"},i=(0,s._)("div",{class:"display-6 text-center"},[(0,s._)("p",null,"Registrarse")],-1),o={class:"form-outline mb-4"},n=(0,s._)("label",{class:"form-label",for:"usuario"},"Usuario",-1),u={class:"form-outline mb-4"},c=(0,s._)("label",{class:"form-label",for:"clave"},"Contrase√±a",-1),d={class:"loadingLineal"},v=(0,s.uE)('<h1>Linear loader</h1><div class="bar-loadinglineal"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>',2),m=[v],p={type:"submit",class:"btn btn-primary btn-block mb-4"},b=(0,s._)("div",{class:"text-center"},[(0,s._)("p",null,[(0,s.Uk)("Ya tienes una cuenta? "),(0,s._)("a",{href:"/"},"Accede")])],-1);function h(r,a,e,v,h,f){const g=(0,s.up)("alerta-error");return(0,s.wg)(),(0,s.iD)("div",t,[(0,s._)("form",{onSubmit:a[2]||(a[2]=(0,l.iM)((r=>f.registrarUsuario()),["prevent"]))},[i,(0,s._)("div",o,[(0,s.wy)((0,s._)("input",{type:"text",id:"usuario",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=r=>h.usuario=r)},null,512),[[l.nr,h.usuario]]),n]),(0,s._)("div",u,[(0,s.wy)((0,s._)("input",{type:"password",id:"clave",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=r=>h.clave=r)},null,512),[[l.nr,h.clave]]),c]),(0,s._)("div",null,[(0,s.wy)((0,s._)("div",d,m,512),[[l.F8,h.loading]]),(0,s.wy)((0,s._)("button",p,"Registrarse",512),[[l.F8,!h.loading]])]),b,(0,s.Wm)(g,{visible:h.mostrarAlertaError,mensaje:h.mensajeAlertaError},null,8,["visible","mensaje"])],32)])}e(7658);var f=e(4271),g={name:"acceso",components:{"alerta-error":f.Z},data(){return{usuario:"",clave:"",loading:!1,mostrarAlertaError:!1,mensajeAlertaError:""}},methods:{async registrarUsuario(){var r={userID:0,username:this.usuario,password:this.clave,roleID:1};this.loading=!0,this.error=null,await this.axios.post("/api/Registro/nuevoUsuario",r).then((r=>{this.$router.push("/")})).catch((r=>{r.response&&400===r.response.status&&(this.mostrarAlertaError=!0,this.mensajeAlertaError="Ya existe un usuario administrador",setTimeout((()=>{this.mostrarAlertaError=!1}),3e3),console.log(r.response))})),this.loading=!1}}},w=e(89);const _=(0,w.Z)(g,[["render",h]]);var y=_}}]);
//# sourceMappingURL=33.ffff83f2.js.map