"use strict";(self["webpackChunkprueba"]=self["webpackChunkprueba"]||[]).push([[50],{8050:function(e,l,a){a.r(l),a.d(l,{default:function(){return R}});var i=a(3396),o=a(9242);const t=e=>((0,i.dD)("data-v-5581957f"),e=e(),(0,i.Cn)(),e),d={id:"contenedor-padre"},r={class:"row mt-5"},n={class:"col-3",id:"form"},s={class:"row g-3"},c=(0,i.uE)('<div class="f" data-v-5581957f><label for="field-type" class="form-label" data-v-5581957f>Tipo de Campo Modificar</label><select id="field-type" class="form-select" data-v-5581957f><option value="text" data-v-5581957f>Texto</option><option value="textarea" data-v-5581957f>Área de Texto</option><option value="select" data-v-5581957f>Select</option><option value="password" data-v-5581957f>Contraseña</option><option value="date" data-v-5581957f>Fecha</option><option value="time" data-v-5581957f>Hora</option><option value="email" data-v-5581957f>Email</option><option value="number" data-v-5581957f>Numero</option><option value="checkbox" data-v-5581957f>Casilla de verificacion</option></select></div>',1),u={class:"",id:"label-group"},m=t((()=>(0,i._)("label",{for:"field-label",class:"form-label",id:"label-group-label"},"Etiqueta del Campo",-1))),p={class:"form-check",id:"required-group",style:{"margin-left":"9px"}},f=t((()=>(0,i._)("label",{for:"field-required",class:"form-check-label",role:"switch"},"Requerido",-1))),h={class:"",id:"placeholder-group"},b=t((()=>(0,i._)("label",{for:"field-placeholder",class:"form-label"},"Placeholder:",-1))),_={class:"mt-4"},v={class:"col-9"},g={id:"form-builder",class:""},y=["data-id"],F={class:"row","align-items-center":""},C={class:"col"},w={class:"col-3 col-md-1",style:{margin:"0 auto",padding:"0"}},k=t((()=>(0,i._)("div",null,[(0,i._)("span",{class:"draggable-handle"},[(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"21",fill:"currentColor",class:"bi bi-arrows-move",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 \r\n          0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 \r\n          0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10zM.146 8.354a.5.5 \r\n          0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 \r\n          0 1-.708.708l-2-2zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 \r\n          0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8z"})])])],-1))),x=t((()=>(0,i._)("br",null,null,-1))),q=["onClick"],B=t((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"red",class:"bi bi-x-square-fill",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 \r\n    2-2V2a2 2 0 0 0-2-2H2zm3.354 4.646L8 7.293l2.646-2.647a.5.5 0 \r\n    0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 \r\n    0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708z"})],-1))),E=[B],I=t((()=>(0,i._)("br",null,null,-1))),L=t((()=>(0,i._)("div",{class:"d-grid gap-2 d-md-flex justify-content-md-end"},[(0,i._)("button",{class:"btn btn-success",id:"button-create-form","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},"Crear Formulario")],-1))),V=t((()=>(0,i._)("br",null,null,-1))),A={class:"modal fade",id:"staticBackdrop",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},M={class:"modal-dialog modal-dialog-centered"},S={class:"modal-content"},H=t((()=>(0,i._)("div",{class:"modal-header"},[(0,i._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Crear formulario"),(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),z=t((()=>(0,i._)("div",{class:"modal-body"},null,-1))),D={class:"modal-footer"},T=t((()=>(0,i._)("button",{type:"button",class:"btn","data-bs-dismiss":"modal"},"Cancelar",-1))),U={class:""};function N(e,l,a,t,B,N){const O=(0,i.up)("v-text-field"),P=(0,i.up)("field-component"),W=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",d,[(0,i._)("div",r,[(0,i._)("div",n,[(0,i.Uk)(" Agregar componentes 24 "),(0,i._)("div",s,[c,(0,i._)("div",u,[m,(0,i.wy)((0,i._)("input",{type:"text",id:"field-label","onUpdate:modelValue":l[0]||(l[0]=e=>B.label=e),class:"form-control"},null,512),[[o.nr,B.label]])]),(0,i._)("div",p,[f,(0,i.wy)((0,i._)("input",{type:"checkbox",id:"field-required","onUpdate:modelValue":l[1]||(l[1]=e=>B.required=e),class:"form-check-input"},null,512),[[o.e8,B.required]])]),(0,i._)("div",h,[b,(0,i.wy)((0,i._)("input",{type:"text",id:"field-placeholder","onUpdate:modelValue":l[2]||(l[2]=e=>B.placeholder=e),class:"form-control"},null,512),[[o.nr,B.placeholder]])]),(0,i._)("div",_,[(0,i._)("button",{onClick:l[3]||(l[3]=(...e)=>N.addField&&N.addField(...e)),class:"btn btn-primary"},"Agregar campo")])]),(0,i.Wm)(O,{modelValue:B.identificador,"onUpdate:modelValue":l[4]||(l[4]=e=>B.identificador=e),label:"Identificador",variant:"underlined"},null,8,["modelValue"])]),(0,i._)("div",v,[(0,i._)("div",g,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(B.formFields,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{key:l,"data-id":e.id_Field,class:"animacion animate__animated animate__slideInLeft animate-fast"},[(0,i._)("div",F,[(0,i._)("div",C,[(0,i.Wm)(P,{field:e},null,8,["field"])]),(0,i._)("div",w,[k,x,(0,i._)("div",null,[(0,i._)("span",{onClick:e=>N.deleteFields(l),class:"deletebutton"},E,8,q)]),I])])],8,y)))),128))]),L]),V])]),(0,i._)("div",A,[(0,i._)("div",M,[(0,i._)("div",S,[H,z,(0,i._)("div",D,[T,(0,i._)("div",U,[(0,i.Wm)(W,{to:"/formularios"},{default:(0,i.w5)((()=>[(0,i._)("button",{type:"button",class:"btn",onClick:l[5]||(l[5]=(...e)=>N.createForm&&N.createForm(...e))},"Guardar")])),_:1})])])])])])],64)}a(7658);var O=a(3413),P=a(7754),W={components:{FieldComponent:P.Z},data(){return{formFields:[],formBuilder:null,titulo:"",descripcion:"",label:"",type:"text",required:0,placeholder:"",fieldCounter:1,order:[],fecha_Creacion:"",identificador:""}},mounted(){this.formBuilder=document.getElementById("form-builder"),new O.ZP(this.formBuilder,{animation:150,handle:".draggable-handle",dataIdAttr:"data-id",onEnd:()=>{console.log("Se insertó un elemento")},group:"fieldsList",store:{set:e=>{this.order=e.toArray(),console.log(this.order)}}})},created(){this.identificador=this.$route.params.idConfigForm},methods:{EliminarCampoVistaPrevia(){console.log("eliminar")},miSelect:addEventListener("change",(function(){const e=document.getElementById("field-type"),l=document.getElementById("placeholder-group"),a=document.getElementById("label-group"),i=document.getElementById("required-group");let o=e.value;"select"===o||"checkbox"===o||"submit"===o||"reset"===o?(l.style.display="none","submit"!==o&&"reset"!==o||(a.style.display="none",i.style.display="none")):(l.style.display="block",a.style.display="block",i.style.display="block")})),addField(){let e,l,a=document.getElementById("field-label").value,i=document.getElementById("field-type").value,o=document.getElementById("field-required").checked,t=document.getElementById("field-placeholder").value;const d=this.fieldCounter;if(this.fieldCounter++,"select"===i){const r=prompt("Ingrese Nombre metodo de Api");if(!r)return;e=r.split(","),l=r,t="1",this.formFields.push({id_Field:d,nombre:a,label:a,type:i,required:o,placeholder:t,options:e,opcionesCadena:l})}else l="1",this.formFields.push({id_Field:d,nombre:a,label:a,type:i,required:o,placeholder:t,opcionesCadena:l});this.label="",this.type="text",this.required=!1,this.placeholder=""},deleteFields(e){const l=document.getElementsByClassName("animacion")[e];l&&(l.classList.add("animate__slideOutRight"),setTimeout((()=>{this.formFields.splice(e,1),this.order.splice(order,1)}),400))},createForm(){let e;if(this.order&&this.order.length>0){const l=[];let a=1;this.order.forEach((e=>{const i=this.formFields.find((l=>l.id_Field===parseInt(e,10)));i&&(i.id_Field=a++,l.push(i))})),this.formFields=l,e={idConfigForm:0,titulo:this.titulo,descripcion:this.descripcion,fecha_Creacion:(new Date).toISOString(),fecha_Modificacion:null,fecha_Eliminacion:null,campos:this.formFields.map(((e,l)=>({id_Field:e.id_Field,nombre:e.nombre,orden:e.id_Field,etiqueta:e.label,tipo:e.type,requerido:e.required?1:0,marcador:e.placeholder,opciones:e.opcionesCadena,visible:1,clase:"form-control",estado:1,id_ConfigForm:this.identificador,fecha_eliminacion:null})))}}else e={idConfigForm:0,titulo:this.titulo,descripcion:this.descripcion,fecha_Creacion:(new Date).toISOString(),fecha_Modificacion:null,fecha_Eliminacion:null,campos:this.formFields.map(((e,l)=>({id_Field:e.id_Field,nombre:e.nombre,orden:e.id_Field,etiqueta:e.label,tipo:e.type,requerido:e.required?1:0,marcador:e.placeholder,opciones:e.opcionesCadena,visible:1,clase:"form-control",estado:1,id_ConfigForm:this.identificador,fecha_eliminacion:null})))};const l=JSON.stringify(e);console.log(l),this.axios.post("/api/ConfigForm/AgregarFormularioCreado",l,{headers:{"Content-Type":"application/json"}}).then((e=>{console.log("guardado con exito"),this.$router.push({name:"formularios"})})).catch((e=>{console.log("error")}))}}},Z=a(89);const j=(0,Z.Z)(W,[["render",N],["__scopeId","data-v-5581957f"]]);var R=j}}]);
//# sourceMappingURL=50.e3e3dd1c.js.map