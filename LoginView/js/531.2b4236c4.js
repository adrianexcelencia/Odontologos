"use strict";(self["webpackChunkprueba"]=self["webpackChunkprueba"]||[]).push([[531],{8531:function(e,l,a){a.r(l),a.d(l,{default:function(){return Q}});var t=a(3396),o=a(9242),i=a(7139);const d=e=>((0,t.dD)("data-v-6030059b"),e=e(),(0,t.Cn)(),e),s={id:"contenedor-padre"},r={class:"row mt-5"},n={class:"col-3",id:"form"},c={class:"row g-3"},u=(0,t.uE)('<div class="f" data-v-6030059b><label for="field-type" class="form-label" data-v-6030059b>Tipo de Campo</label><select id="field-type" class="form-select" data-v-6030059b><option value="text" data-v-6030059b>Texto</option><option value="textarea" data-v-6030059b>Área de Texto</option><option value="select" data-v-6030059b>Select</option><option value="password" data-v-6030059b>Contraseña</option><option value="email" data-v-6030059b>Email</option><option value="number" data-v-6030059b>Numero</option><option value="checkbox" data-v-6030059b>Casilla de verificacion</option><option value="submit" data-v-6030059b>Boton de guardar</option><option value="reset" data-v-6030059b>Boton de resetear</option></select></div>',1),m={class:"",id:"label-group"},p=d((()=>(0,t._)("label",{for:"field-label",class:"form-label",id:"label-group-label"},"Etiqueta del Campo",-1))),b={class:"form-check",id:"required-group",style:{"margin-left":"9px"}},f=d((()=>(0,t._)("label",{for:"field-required",class:"form-check-label",role:"switch"},"Requerido",-1))),h={class:"",id:"placeholder-group"},v=d((()=>(0,t._)("label",{for:"field-placeholder",class:"form-label"},"Placeholder:",-1))),_={class:"mt-4"},g={class:"col-9"},y={id:"form-builder",class:""},w=["data-id"],F={class:"row","align-items-center":""},k={class:"col"},C={class:"col-3 col-md-1",style:{margin:"0 auto",padding:"0"}},x=d((()=>(0,t._)("div",null,[(0,t._)("span",{class:"draggable-handle"},[(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"21",fill:"currentColor",class:"bi bi-arrows-move",viewBox:"0 0 16 16"},[(0,t._)("path",{"fill-rule":"evenodd",d:"M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 \n          0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 \n          0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10zM.146 8.354a.5.5 \n          0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 \n          0 1-.708.708l-2-2zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 \n          0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8z"})])])],-1))),B=d((()=>(0,t._)("br",null,null,-1))),E=["onClick"],q=d((()=>(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"red",class:"bi bi-x-square-fill",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 \n    2-2V2a2 2 0 0 0-2-2H2zm3.354 4.646L8 7.293l2.646-2.647a.5.5 0 \n    0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 \n    0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708z"})],-1))),L=[q],I=d((()=>(0,t._)("br",null,null,-1))),V=d((()=>(0,t._)("div",{class:"d-grid gap-2 d-md-flex justify-content-md-end"},[(0,t._)("button",{class:"btn btn-success",id:"button-create-form","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},"Crear Formulario")],-1))),z=d((()=>(0,t._)("br",null,null,-1))),D={class:"modal fade",id:"staticBackdrop",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},H={class:"modal-dialog modal-dialog-centered"},M={class:"modal-content"},A=d((()=>(0,t._)("div",{class:"modal-header"},[(0,t._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Crear formulario"),(0,t._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),T={class:"modal-body"},U={class:"mb-3"},Z=d((()=>(0,t._)("label",{for:"recipient-name",class:"col-form-label"},"Titulo:",-1))),N={class:"mb-3"},P=d((()=>(0,t._)("label",{for:"message-text",class:"col-form-label"},"Descripción:",-1))),S={class:"modal-footer"},Y=d((()=>(0,t._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancelar",-1))),$={class:""};function K(e,l,a,d,q,K){const R=(0,t.up)("field-component"),W=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",s,[(0,t._)("div",r,[(0,t._)("div",n,[(0,t._)("div",c,[u,(0,t._)("div",m,[p,(0,t.wy)((0,t._)("input",{type:"text",id:"field-label","onUpdate:modelValue":l[0]||(l[0]=e=>q.label=e),class:"form-control"},null,512),[[o.nr,q.label]])]),(0,t._)("div",b,[f,(0,t.wy)((0,t._)("input",{type:"checkbox",id:"field-required","onUpdate:modelValue":l[1]||(l[1]=e=>q.required=e),class:"form-check-input"},null,512),[[o.e8,q.required]])]),(0,t._)("div",h,[v,(0,t.wy)((0,t._)("input",{type:"text",id:"field-placeholder","onUpdate:modelValue":l[2]||(l[2]=e=>q.placeholder=e),class:"form-control"},null,512),[[o.nr,q.placeholder]])]),(0,t._)("div",_,[(0,t._)("button",{onClick:l[3]||(l[3]=(...e)=>K.addField&&K.addField(...e)),class:"btn btn-primary"},"Agregar campo")])])]),(0,t._)("div",g,[(0,t._)("div",y,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(q.formFields,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{key:l,"data-id":e.id_Field,class:"animacion animate__animated animate__slideInLeft animate-fast"},[(0,t._)("div",F,[(0,t._)("div",k,[(0,t.Wm)(R,{field:e},null,8,["field"])]),(0,t._)("div",C,[x,B,(0,t._)("div",null,[(0,t._)("span",{onClick:e=>K.deleteFields(l),class:"deletebutton"},L,8,E)]),I])])],8,w)))),128))]),V]),z]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.ListaFormulario,(e=>((0,t.wg)(),(0,t.iD)("div",{key:this.$route.params.id},[(0,t._)("ul",null,[(0,t._)("li",null,(0,i.zw)(e.titulo),1)])])))),128))]),(0,t._)("div",D,[(0,t._)("div",H,[(0,t._)("div",M,[A,(0,t._)("div",T,[(0,t._)("form",null,[(0,t._)("div",U,[Z,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",id:"titulo","onUpdate:modelValue":l[4]||(l[4]=e=>q.titulo=e)},null,512),[[o.nr,q.titulo]])]),(0,t._)("div",N,[P,(0,t.wy)((0,t._)("textarea",{class:"form-control",id:"descripcion",style:{height:"80px",resize:"none"},"onUpdate:modelValue":l[5]||(l[5]=e=>q.descripcion=e)},null,512),[[o.nr,q.descripcion]])])])]),(0,t._)("div",S,[Y,(0,t._)("div",$,[(0,t.Wm)(W,{to:"/formularios"},{default:(0,t.w5)((()=>[(0,t._)("button",{type:"button",class:"btn btn-primary",onClick:l[6]||(l[6]=(...l)=>e.createForm&&e.createForm(...l))},"Guardar")])),_:1})])])])])])],64)}a(7658);var R=a(3413),W=a(7754),j=a(1076),G={components:{FieldComponent:W.Z},data(){return{formFields:[],formBuilder:null,titulo:"",descripcion:"",label:"",type:"text",required:0,placeholder:"",fieldCounter:1,order:[],fecha_Creacion:""}},mounted(){this.formBuilder=document.getElementById("form-builder"),new R.ZP(this.formBuilder,{animation:150,handle:".draggable-handle",dataIdAttr:"data-id",onEnd:()=>{console.log("Se insertó un elemento")},group:"fieldsList",store:{set:e=>{this.order=e.toArray(),console.log(this.order)}}}),this.editForm()},methods:{EliminarCampoVistaPrevia(){console.log("eliminar")},miSelect:addEventListener("change",(function(){const e=document.getElementById("field-type"),l=document.getElementById("placeholder-group"),a=document.getElementById("label-group"),t=document.getElementById("required-group");let o=e.value;"select"===o||"checkbox"===o||"submit"===o||"reset"===o?(l.style.display="none","submit"!==o&&"reset"!==o||(a.style.display="none",t.style.display="none")):(l.style.display="block",a.style.display="block",t.style.display="block")})),addField(){let e,l=document.getElementById("field-label").value,a=document.getElementById("field-type").value,t=document.getElementById("field-required").checked,o=document.getElementById("field-placeholder").value;const i=this.fieldCounter;if(this.fieldCounter++,"select"===a){const d=prompt("Ingrese opciones del select (separadas por coma)");if(!d)return;e=d.split(","),this.formFields.push({id_Field:i,nombre:l,label:l,type:a,required:t,placeholder:o,options:e}),o=""}else this.formFields.push({id_Field:i,nombre:l,label:l,type:a,required:t,placeholder:o});this.label="",this.type="text",this.required=!1,this.placeholder=""},deleteFields(e){const l=document.getElementsByClassName("animacion")[e];l&&(l.classList.add("animate__slideOutRight"),setTimeout((()=>{this.formFields.splice(e,1),this.order.splice(order,1)}),400))},editForm(){console.log("editar está funcionando");const e=this.$route.params.id;j.Z.get(`/api/ConfigForm/MostrarFormularioCompleto/${e}`).then((e=>{const l=e.data.datosField;l.forEach((e=>{this.formFields.push({id_Field:e.id_Field,label:e.nombre,type:e.tipo,required:e.requerido?1:0,options:e.opciones})}));const a=e.data.datosForm;this.titulo=a.titulo,this.descripcion=a.descripcion})).catch((e=>{e.response?console.error("Error de respuesta:",e.response.status):e.request?console.error("Error de red: No se recibió respuesta"):console.error("Error de configuración:",e.message)}))}}},O=a(89);const J=(0,O.Z)(G,[["render",K],["__scopeId","data-v-6030059b"]]);var Q=J}}]);
//# sourceMappingURL=531.2b4236c4.js.map